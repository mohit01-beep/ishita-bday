<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Happy Birthday Ishita ğŸ’–</title>
<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&family=Great+Vibes&display=swap" rel="stylesheet">
<style>
  :root{
    --z-bg: 0;
    --z-cloud-far: 1;
    --z-stars: 2;
    --z-cloud-mid: 3;
    --z-moon: 4;
    --z-cloud-near: 5;
    --z-hearts: 6;
    --z-ui: 10;
  }

  html,body{
    height:100%;
    margin:0; padding:0;
    font-family:'Quicksand',sans-serif;
    overflow-x:hidden;
    -webkit-tap-highlight-color:transparent;
    background: linear-gradient(120deg, #EAC9F5, #BDB1FF);
    transition: background 900ms linear;
    color:#222;
    scroll-behavior:smooth;
  }

  #bg { position:fixed; inset:0; pointer-events:none; z-index:var(--z-bg); overflow:hidden; }
  .cloud-layer { position:absolute; inset:0; pointer-events:none; overflow:visible; }

  .section {
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    padding:50px 20px;
    text-align:center;
    flex-direction:column;
    position:relative;
    z-index:var(--z-ui);
    transition: background 1s linear;
  }

  .text-bubble{
    display:inline-block;
    padding:22px 30px;
    background: rgba(255,255,255,0.64);
    border-radius:28px;
    box-shadow:0 8px 22px rgba(0,0,0,0.09);
    backdrop-filter: blur(4px);
    max-width:76%;
    font-size:1.15rem;
    margin:18px 0;
    opacity:0;
    transform:translateY(26px);
    transition: opacity 700ms ease, transform 700ms ease;
  }
  .text-bubble.fade-in{ opacity:1; transform:translateY(0); }

  h1{ font-family:'Great Vibes',cursive; font-size:3.6rem; margin:10px 0 6px; color:#ff77aa; }
  p{ font-size:1.05rem; }

  .interactive-btn{
    padding:10px 22px;
    background:#ff7ba1;
    color:#fff;
    border:none;
    border-radius:18px;
    cursor:pointer;
    font-size:1rem;
    margin-top:10px;
    z-index:var(--z-ui);
  }
  .interactive-btn:active{ transform:scale(0.98); }

  /* ---------- Hearts (true shape, only on click/touch) ---------- */
  .heart {
    position:fixed;
    width:18px;
    height:18px;
    transform: rotate(-45deg);
    pointer-events:none;
    z-index:var(--z-hearts);
    opacity:0.85;
  }
  .heart::before, .heart::after{
    content:"";
    position:absolute;
    width:18px; height:18px;
    background:#ff77aa;
    border-radius:50%;
    left:0; top:0;
  }
  .heart::before{ transform: translate(-6px,-6px); }
  .heart::after { transform: translate(6px,-6px); }
  .heart.small{ width:12px; height:12px; }
  .heart.small::before, .heart.small::after{ width:12px; height:12px; transform:none; }

  /* ---------- Stars & Fireflies ---------- */
  .star {
    position:fixed;
    width:2px; height:2px;
    border-radius:50%;
    background:#fff;
    box-shadow:0 0 8px rgba(255,255,255,0.9);
    z-index:var(--z-stars);
    opacity:0.9;
    will-change: opacity, transform;
  }
  .firefly {
    position:fixed;
    width:4px; height:4px;
    border-radius:50%;
    background: radial-gradient(circle, #fff 0%, rgba(255,255,170,0.9) 35%, rgba(255,255,170,0.05) 70%);
    box-shadow: 0 0 12px rgba(255,255,170,0.9);
    z-index:calc(var(--z-stars)+1);
    pointer-events:none;
  }

  /* ---------- Moon ---------- */
  .moon {
    position:fixed;
    width:96px; height:96px;
    border-radius:50%;
    background: radial-gradient(circle at 30% 30%, #fff 0%, #f0f0ff 30%, #dcd8ff 70%, rgba(200,200,255,0.9) 100%);
    box-shadow: 0 0 26px rgba(220,220,255,0.32), inset -8px -6px 12px rgba(0,0,0,0.06);
    top:8vh; right:6vw;
    z-index:var(--z-moon);
    opacity:0;
    transform: scale(0.9);
    transition: opacity 900ms ease, transform 900ms ease, filter 900ms ease;
    filter: drop-shadow(0 6px 18px rgba(0,0,0,0.15));
  }
  .moon.visible { opacity:1; transform: scale(1); }

  .shoot {
    position:fixed;
    width:3px;
    height:140px;
    background: linear-gradient(to bottom, rgba(255,255,255,1), rgba(255,255,255,0));
    border-radius:50px;
    z-index:var(--z-stars);
    pointer-events:none;
    will-change: transform, opacity;
    transform: rotate(45deg);
  }

  .cloud-el {
    position:absolute;
    background: rgba(255,255,255,0.32);
    border-radius:50%;
    filter: blur(10px);
    will-change: transform;
    pointer-events:none;
  }

  .carousel {
    width:80%;
    max-width:520px;
    height:250px;
    margin:20px auto;
    background: rgba(255,255,255,0.45);
    border-radius:16px;
    display:flex;
    justify-content:center;
    align-items:center;
    color:#333;
  }

  @media (max-width:600px){
    h1{ font-size:2.6rem; }
    .text-bubble{ padding:18px 20px; font-size:1rem; }
    .moon{ width:72px; height:72px; top:6vh; right:6vw; }
  }
</style>
</head>
<body>

<div id="bg" aria-hidden="true">
  <div id="cloud-far" class="cloud-layer" style="z-index:var(--z-cloud-far)"></div>
  <div id="stars" style="z-index:var(--z-stars)"></div>
  <div id="cloud-mid" class="cloud-layer" style="z-index:var(--z-cloud-mid)"></div>
  <div id="moon" class="moon" style="z-index:var(--z-moon)"></div>
  <div id="cloud-near" class="cloud-layer" style="z-index:var(--z-cloud-near)"></div>
  <div id="fireflies" style="z-index:calc(var(--z-stars)+1)"></div>
  <div id="hearts-layer" style="z-index:var(--z-hearts)"></div>
</div>

<div class="section" id="landing">
  <h1>Happy Birthday Ishita ğŸ’–</h1>
  <button class="interactive-btn" onclick="startSite()">Click to Start</button>
</div>

<div class="section" id="snapchat">
  <div class="text-bubble">Snapchat memories: Our first talks, little snaps, discovering each other slowly...</div>
  <div class="text-bubble">Thanks to Yogita we got closer earlier and I got your number...</div>
  <div class="text-bubble">Maybe I wouldâ€™ve gotten your number later too, but I donâ€™t know whenâ€”or how long I wouldâ€™ve waited.</div>
  <div class="text-bubble">Because of Yogita's job search, we connected on WhatsApp and got to know each other more...</div>
</div>

<div class="section" id="whatsapp">
  <div class="text-bubble">WhatsApp memories: Long movie nights, deep talks, sending each other our favorite rom-coms ğŸ¬ğŸ’–</div>
  <div class="text-bubble">Whenever I see reels about How to Lose a Guy in 10 Days or 10 Things I Hate About You, it reminds me of you ğŸ˜…ğŸ’“</div>
  <div class="text-bubble">Any rom-com movie reminds me of youuuuuu ğŸ¥ğŸ’• but these 2 are special and unforgettable ğŸ˜</div>
  <div class="text-bubble">Our first movie together was Saltburn ğŸï¸ Your reactions were hilarious ğŸ¤­ğŸ¤£</div>
  <div class="text-bubble">And remember our horror movie together - IT Chapter 1 ğŸ‘»ğŸ˜±</div>
  <div class="text-bubble">Women's day tiramisu surprise for youu ğŸ¤­ â€” Youu loved it! Your reactions whenever I get a chance to make you smile, I try not to lose that chance ğŸ¤ª</div>
  <div class="text-bubble">During Navratri when you sent that cheesecake for me ğŸ¥¹ â€” It was my 1st time someone did this for me, and that too from you! I still have that jar and box ğŸ˜‡</div>
</div>

<div class="section" id="instagram">
  <div class="text-bubble">Instagram memories: Placeholder for photos, reels, stories... ğŸ’–</div>
  <div class="text-bubble">You can update this content later with your favorite moments ğŸ˜</div>
</div>

<div class="section" id="real-meet">
  <div class="text-bubble">Our real-life meet: Only once, but unforgettable! ğŸ’–</div>
  <div class="text-bubble">That day is etched in my memory forever ğŸ˜</div>
</div>

<div class="section" id="interactive">
  <div class="text-bubble">
    Do you want to see your birthday surprise?<br>
    <button class="interactive-btn" onclick="revealMessage(true)">Yes</button>
    <button class="interactive-btn" onclick="revealMessage(false)">No</button>
  </div>
</div>

<div class="section" id="final-message" style="display:none;">
  <div class="text-bubble" id="birthday-note">Here will be your emotional birthday note...</div>
  <div class="carousel">[Photo carousel placeholder]</div>
  <p>From Mohit â¤ï¸</p>
</div>

<script>
/* ---------- Background gradient by scroll (evening colors) ---------- */
const GRADIENTS = [
  ['#EAC9F5','#BDB1FF'], // landing
  ['#D8B3FF','#A38BFF'], // snapchat
  ['#B38BFF','#8061DD'], // whatsapp
  ['#8061DD','#5A3FBD'], // instagram
  ['#3B2B6D','#0B132B']  // real-meet
];

const MOON_SHOW_AT = 0.65;
const NIGHT_START_AT = 0.55;

function hexToRgb(hex){ const n=parseInt(hex.replace('#',''),16); return [(n>>16)&255,(n>>8)&255,n&255]; }
function rgbToCss([r,g,b]){ return `rgb(${r},${g},${b})`; }
function interpHex(a,b,t){ const A=hexToRgb(a), B=hexToRgb(b); const R=Math.round(A[0]*(1-t)+B[0]*t); const G=Math.round(A[1]*(1-t)+B[1]*t); const Bc=Math.round(A[2]*(1-t)+B[2]*t); return rgbToCss([R,G,Bc]); }

function updateBackgroundByScroll(){
  const scroll=window.scrollY;
  const total=document.body.scrollHeight-window.innerHeight;
  let norm = total<=0 ? 0 : (scroll/total);
  norm = Math.max(0, Math.min(1,norm));

  const segments = GRADIENTS.length-1;
  let idx = Math.floor(norm*segments);
  if(idx >= segments) idx=segments-1;
  const segStart=idx/segments;
  const t=(norm-segStart)*segments;

  const [s0,s1]=GRADIENTS[idx];
  const [e0,e1]=GRADIENTS[idx+1];
  const c0=interpHex(s0,e0,t);
  const c1=interpHex(s1,e1,t);
  document.documentElement.style.background=`linear-gradient(120deg, ${c0}, ${c1})`;

  const moonEl=document.getElementById('moon');
  if(norm>=MOON_SHOW_AT) moonEl.classList.add('visible');
  else moonEl.classList.remove('visible');

  window._isNight=(norm>=NIGHT_START_AT);
}
window.addEventListener('scroll', throttle(updateBackgroundByScroll,50));
updateBackgroundByScroll();

/* ---------- IntersectionObserver for fade-in bubbles ---------- */
function initSectionObserver(){
  const options={ threshold:0.22 };
  const obs=new IntersectionObserver((entries)=>{
    entries.forEach(entry=>{
      if(entry.isIntersecting){
        const bubbles=entry.target.querySelectorAll('.text-bubble');
        bubbles.forEach((b,idx)=>setTimeout(()=>b.classList.add('fade-in'), idx*260));
      }
    });
  }, options);
  document.querySelectorAll('.section').forEach(s=>obs.observe(s));
}
initSectionObserver();

/* ---------- Throttle helper ---------- */
function throttle(fn, wait){ let last=0; return (...args)=>{ const now=Date.now(); if(now-last>wait){ last=now; fn(...args); }}}

/* ---------- Start site ---------- */
function startSite(){ updateBackgroundByScroll(); }

/* ---------- Heart trail ---------- */
function createHeartTrail(x,y){
  const h=document.createElement('div');
  h.className='heart small';
  h.style.left=(x-6)+'px';
  h.style.top=(y-6)+'px';
  document.body.appendChild(h);
  h.animate([
    { transform:'translateY(0) rotate(-45deg) scale(0.9)', opacity:1 },
    { transform:'translateY(-180px) rotate(-45deg) scale(1.05)', opacity:0 }
  ], { duration:1200, easing:'ease-out' });
  setTimeout(()=>h.remove(),1300);
}
document.addEventListener('click',(ev)=>createHeartTrail(ev.clientX,ev.clientY));
document.addEventListener('touchstart',(ev)=>{ for(const t of ev.touches) createHeartTrail(t.clientX,t.clientY); });

/* ---------- Reveal final message ---------- */
function revealMessage(choice){
  if(choice){
    document.getElementById('interactive').style.display='none';
    const fm=document.getElementById('final-message');
    fm.style.display='flex';
    fm.scrollIntoView({behavior:'smooth'});
  } else {
    alert('You can scroll and see the memories anyway!');
  }
}
</script>
</body>
</html>
