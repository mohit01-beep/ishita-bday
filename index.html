<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Happy Birthday Ishita üíñ</title>
<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&family=Great+Vibes&display=swap" rel="stylesheet">
<style>
  /* ---------- Base ---------- */
  :root{
    --z-bg: 0;
    --z-cloud-far: 1;
    --z-stars: 2;
    --z-cloud-mid: 3;
    --z-moon: 4;
    --z-cloud-near: 5;
    --z-hearts: 6;
    --z-ui: 10;
  }

  html,body{
    height:100%;
    margin:0; padding:0;
    font-family:'Quicksand',sans-serif;
    overflow-x:hidden;
    -webkit-tap-highlight-color:transparent;
    background: linear-gradient(120deg, #EAC9F5, #BDB1FF); /* initial */
    transition: background 900ms linear;
    color:#222;
    scroll-behavior:smooth;
  }

  /* background layer container (holds stars, clouds, moon, fireflies) */
  #bg {
    position:fixed; inset:0; pointer-events:none;
    z-index:var(--z-bg);
    overflow:hidden;
  }

  /* clouds layers grouped for parallax */
  .cloud-layer { position:absolute; inset:0; pointer-events:none; overflow:visible; }

  /* section / content */
  .section {
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    padding:50px 20px;
    text-align:center;
    flex-direction:column;
    position:relative;
    z-index:var(--z-ui);
    transition: background 1s linear;
  }

  .text-bubble{
    display:inline-block;
    padding:22px 30px;
    background: rgba(255,255,255,0.64);
    border-radius:28px;
    box-shadow:0 8px 22px rgba(0,0,0,0.09);
    backdrop-filter: blur(4px);
    max-width:76%;
    font-size:1.15rem;
    margin:18px 0;
    opacity:0;
    transform:translateY(26px);
    transition: opacity 700ms ease, transform 700ms ease;
  }
  .text-bubble.fade-in{ opacity:1; transform:translateY(0); }

  h1{ font-family:'Great Vibes',cursive; font-size:3.6rem; margin:10px 0 6px; color:#ff77aa; }
  p{ font-size:1.05rem; }

  .interactive-btn{
    padding:10px 22px;
    background:#ff7ba1;
    color:#fff;
    border:none;
    border-radius:18px;
    cursor:pointer;
    font-size:1rem;
    margin-top:10px;
    z-index:var(--z-ui);
  }
  .interactive-btn:active{ transform:scale(0.98); }

  /* ---------- Hearts (perfect shape) ---------- */
  .heart {
    position:fixed;
    width:22px; height:22px;
    transform: rotate(-45deg);
    pointer-events:none;
    z-index:var(--z-hearts);
    opacity:0.95;
    will-change: transform, opacity;
  }
  .heart::before, .heart::after{
    content:"";
    position:absolute;
    width:22px; height:22px;
    background:#ff77aa;
    border-radius:50%;
    left:0; top:0;
  }
  .heart::before{ transform: translate(-6px,-6px); }
  .heart::after { transform: translate(6px,-6px); }
  .heart.small{ width:14px; height:14px; }
  .heart.small::before, .heart.small::after{ width:14px; height:14px; transform:none; }
  /* heart float animation (upwards) */
  @keyframes heartFloat {
    0% { transform: translateY(0) rotate(-45deg) scale(0.9); opacity:1; }
    100% { transform: translateY(-420px) rotate(-45deg) scale(1.05); opacity:0; }
  }

  /* ---------- Stars & Fireflies ---------- */
  .star {
    position:fixed;
    width:2px; height:2px;
    border-radius:50%;
    background:#fff;
    box-shadow:0 0 8px rgba(255,255,255,0.9);
    z-index:var(--z-stars);
    opacity:0.9;
    will-change: opacity, transform;
  }

  .firefly {
    position:fixed;
    width:4px; height:4px;
    border-radius:50%;
    background: radial-gradient(circle, #fff 0%, rgba(255,255,170,0.9) 35%, rgba(255,255,170,0.05) 70%);
    box-shadow: 0 0 12px rgba(255,255,170,0.9);
    z-index:calc(var(--z-stars)+1);
    pointer-events:none;
  }

  /* ---------- Moon ---------- */
  .moon {
    position:fixed;
    width:96px; height:96px;
    border-radius:50%;
    background: radial-gradient(circle at 30% 30%, #fff 0%, #f0f0ff 30%, #dcd8ff 70%, rgba(200,200,255,0.9) 100%);
    box-shadow: 0 0 26px rgba(220,220,255,0.32), inset -8px -6px 12px rgba(0,0,0,0.06);
    top:8vh; right:6vw;
    z-index:var(--z-moon);
    opacity:0;
    transform: scale(0.9);
    transition: opacity 900ms ease, transform 900ms ease, filter 900ms ease;
    filter: drop-shadow(0 6px 18px rgba(0,0,0,0.15));
  }
  .moon.visible { opacity:1; transform: scale(1); }

  /* ---------- Shooting star style (tail is the element) ---------- */
  .shoot {
    position:fixed;
    width:3px;
    height:140px;
    background: linear-gradient(to bottom, rgba(255,255,255,1), rgba(255,255,255,0));
    border-radius:50px;
    z-index:var(--z-stars);
    pointer-events:none;
    will-change: transform, opacity;
    transform: rotate(45deg);
  }

  /* ---------- Cloud shapes (simple blurred ellipses) ---------- */
  .cloud-el {
    position:absolute;
    background: rgba(255,255,255,0.32);
    border-radius:50%;
    filter: blur(10px);
    will-change: transform;
    pointer-events:none;
  }

  /* ---------- Carousel placeholder (unchanged UI) ---------- */
  .carousel {
    width:80%;
    max-width:520px;
    height:250px;
    margin:20px auto;
    background: rgba(255,255,255,0.45);
    border-radius:16px;
    display:flex;
    justify-content:center;
    align-items:center;
    color:#333;
  }

  /* ---------- Responsive tweaks ---------- */
  @media (max-width:600px){
    h1{ font-size:2.6rem; }
    .text-bubble{ padding:18px 20px; font-size:1rem; }
    .moon{ width:72px; height:72px; top:6vh; right:6vw; }
  }
</style>
</head>
<body>

  <!-- Background container with layers -->
  <div id="bg" aria-hidden="true">
    <div id="cloud-far" class="cloud-layer" style="z-index:var(--z-cloud-far)"></div>
    <div id="stars" style="z-index:var(--z-stars)"></div>
    <div id="cloud-mid" class="cloud-layer" style="z-index:var(--z-cloud-mid)"></div>
    <div id="moon" class="moon" style="z-index:var(--z-moon)"></div>
    <div id="cloud-near" class="cloud-layer" style="z-index:var(--z-cloud-near)"></div>
    <div id="fireflies" style="z-index:calc(var(--z-stars)+1)"></div>
    <div id="hearts-layer" style="z-index:var(--z-hearts)"></div>
  </div>

  <!-- YOUR UNCHANGED CONTENT SECTIONS -->
  <div class="section" id="landing">
    <h1>Happy Birthday Ishita üíñ</h1>
    <button class="interactive-btn" onclick="startSite()">Click to Start</button>
  </div>

  <div class="section" id="snapchat">
    <div class="text-bubble">Snapchat memories: Our first talks, little snaps, discovering each other slowly...</div>
    <div class="text-bubble">Thanks to Yogita we got closer earlier and I got your number...</div>
    <div class="text-bubble">Maybe I would‚Äôve gotten your number later too, but I don‚Äôt know when‚Äîor how long I would‚Äôve waited.</div>
    <div class="text-bubble">Because of Yogita's job search, we connected on WhatsApp and got to know each other more...</div>
  </div>

  <div class="section" id="whatsapp">
    <div class="text-bubble">WhatsApp memories: Long movie nights, deep talks, sending each other our favorite rom-coms üé¨üíñ</div>
    <div class="text-bubble">Whenever I see reels about How to Lose a Guy in 10 Days or 10 Things I Hate About You, it reminds me of you üòÖüíì</div>
    <div class="text-bubble">Any rom-com movie reminds me of youuuuuu üé•üíï but these 2 are special and unforgettable üòç</div>
    <div class="text-bubble">Our first movie together was Saltburn üéûÔ∏è Your reactions were hilarious ü§≠ü§£</div>
    <div class="text-bubble">And remember our horror movie together - IT Chapter 1 üëªüò±</div>
    <div class="text-bubble">Women's day tiramisu surprise for youu ü§≠ ‚Äî Youu loved it! Your reactions whenever I get a chance to make you smile, I try not to lose that chance ü§™</div>
    <div class="text-bubble">During Navratri when you sent that cheesecake for me ü•π ‚Äî It was my 1st time someone did this for me, and that too from you! I still have that jar and box üòá</div>
  </div>

  <div class="section" id="instagram">
    <div class="text-bubble">Instagram memories: Placeholder for photos, reels, stories... üíñ</div>
    <div class="text-bubble">You can update this content later with your favorite moments üòç</div>
  </div>

  <div class="section" id="real-meet">
    <div class="text-bubble">Our real-life meet: Only once, but unforgettable! üíñ</div>
    <div class="text-bubble">That day is etched in my memory forever üòç</div>
  </div>

  <div class="section" id="interactive">
    <div class="text-bubble">
      Do you want to see your birthday surprise?<br>
      <button class="interactive-btn" onclick="revealMessage(true)">Yes</button>
      <button class="interactive-btn" onclick="revealMessage(false)">No</button>
    </div>
  </div>

  <div class="section" id="final-message" style="display:none;">
    <div class="text-bubble" id="birthday-note">Here will be your emotional birthday note...</div>
    <div class="carousel">[Photo carousel placeholder]</div>
    <p>From Mohit ‚ù§Ô∏è</p>
  </div>

  <audio id="bg-music" loop>
    <source src="soft-music.mp3" type="audio/mpeg">
  </audio>

<script>
/* ============================
   Config (Purple Evening A)
   ============================ */
const GRADIENTS = [
  ['#EAC9F5','#BDB1FF'],  // landing (soft purple/pink)
  ['#C9B3FF','#A38BFF'],  // snapchat
  ['#A38BFF','#8061DD'],  // whatsapp
  ['#8061DD','#5A3FBD'],  // instagram
  ['#3B2B6D','#0B132B']   // real-meet (night)
];

const MOON_SHOW_AT = 0.65;      // show moon after 65% scroll
const NIGHT_START_AT = 0.55;    // shooting stars & fireflies appear after 55% scroll

/* ---------- util: color interp ---------- */
function hexToRgb(hex){
  const n = parseInt(hex.replace('#',''),16);
  return [(n>>16)&255, (n>>8)&255, n&255];
}
function rgbToCss([r,g,b]){ return `rgb(${r},${g},${b})`; }
function interpHex(a,b,t){
  const A = hexToRgb(a), B = hexToRgb(b);
  const R = Math.round(A[0]*(1-t)+B[0]*t);
  const G = Math.round(A[1]*(1-t)+B[1]*t);
  const Bc = Math.round(A[2]*(1-t)+B[2]*t);
  return rgbToCss([R,G,Bc]);
}

/* ---------- background gradient by scroll ---------- */
function updateBackgroundByScroll(){
  const scroll = window.scrollY;
  const total = document.body.scrollHeight - window.innerHeight;
  let norm = total <= 0 ? 0 : (scroll/total);
  norm = Math.max(0, Math.min(1, norm));

  // map norm to gradient slots
  const segments = GRADIENTS.length - 1;
  let idx = Math.floor(norm * segments);
  if(idx >= segments) idx = segments - 1;
  const segStart = idx / segments;
  const t = (norm - segStart) * segments;

  const [s0,s1] = GRADIENTS[idx];
  const [e0,e1] = GRADIENTS[idx+1];
  const c0 = interpHex(s0,e0,t);
  const c1 = interpHex(s1,e1,t);
  document.documentElement.style.background = `linear-gradient(120deg, ${c0}, ${c1})`;

  // moon visibility
  const moonEl = document.getElementById('moon');
  if(norm >= MOON_SHOW_AT) moonEl.classList.add('visible');
  else moonEl.classList.remove('visible');

  // enable/disable star/meteor/firefly spawns based on night start
  window._isNight = (norm >= NIGHT_START_AT);
}
window.addEventListener('scroll', throttle(updateBackgroundByScroll, 50));
updateBackgroundByScroll(); // initial

/* ========= Parallax clouds ========== */
const cloudFar = document.getElementById('cloud-far');
const cloudMid = document.getElementById('cloud-mid');
const cloudNear = document.getElementById('cloud-near');

function createCloud(layer, left, top, w, h, blur, opacity){
  const el = document.createElement('div');
  el.className = 'cloud-el';
  el.style.left = left + 'vw';
  el.style.top = top + 'vh';
  el.style.width = w + 'px';
  el.style.height = h + 'px';
  el.style.opacity = opacity;
  el.style.filter = `blur(${blur}px)`;
  layer.appendChild(el);
  return el;
}
function spawnClouds(){
  // far: slow, light
  for(let i=0;i<5;i++){
    createCloud(cloudFar, Math.random()*120 - 10, Math.random()*45, 160+Math.random()*240, 80+Math.random()*60, 10, 0.32);
  }
  // mid
  for(let i=0;i<5;i++){
    createCloud(cloudMid, Math.random()*120 - 10, 10+Math.random()*50, 200+Math.random()*260, 90+Math.random()*70, 12, 0.34);
  }
  // near: bigger & more blurred
  for(let i=0;i<4;i++){
    createCloud(cloudNear, Math.random()*120 - 10, 15+Math.random()*50, 240+Math.random()*300, 110+Math.random()*80, 16, 0.38);
  }
}
spawnClouds();

/* cloud parallax animation (simple horizontal movement) */
function animateClouds(){
  const farEls = cloudFar.children;
  const midEls = cloudMid.children;
  const nearEls = cloudNear.children;
  // speeds in vw per tick
  animateLayer(farEls, 0.01);
  animateLayer(midEls, 0.03);
  animateLayer(nearEls, 0.06);
}
function animateLayer(list, speed){
  for(let i=0;i<list.length;i++){
    const el = list[i];
    let left = parseFloat(el.style.left);
    left += speed;
    if(left > 110) left = -30;
    el.style.left = left + 'vw';
  }
  requestAnimationFrame(animateClouds);
}
requestAnimationFrame(animateClouds);

/* ========= Stars (twinkle) ========= */
function spawnStars(n = 80){
  const stars = document.getElementById('stars');
  for(let i=0;i<n;i++){
    const s = document.createElement('div');
    s.className='star';
    s.style.left = (Math.random()*100) + 'vw';
    s.style.top = (Math.random()*95) + 'vh';
    const size = 1 + Math.random()*2;
    s.style.width = size+'px';
    s.style.height = size+'px';
    // random twinkle speed
    const dur = 2000 + Math.random()*3000;
    s.style.animation = `none`;
    stars.appendChild(s);
    twinkle(s, dur);
  }
}
function twinkle(el, dur){
  let up = Math.random() < 0.5;
  function tick(){
    let o = parseFloat(el.style.opacity || 1);
    o += (up ? 0.01 : -0.01);
    if(o >= 1){ up = false; }
    if(o <= 0.2){ up = true; }
    el.style.opacity = o;
    setTimeout(tick, 40 + Math.random()*60);
  }
  tick();
}
spawnStars(80);

/* ========= Hearts (floating + tap trail) ========= */
const heartsLayer = document.getElementById('hearts-layer');

function spawnFloatingHearts(count = 12){
  for(let i=0;i<count;i++){
    createFloatingHeart();
  }
}
function createFloatingHeart(){
  const h = document.createElement('div');
  h.className = 'heart';
  // color gradient tint on background pieces (set via pseudo shapes by CSS)
  const x = Math.random()*100;
  const y = 80 + Math.random()*20; // start near bottom and float up
  h.style.left = x + 'vw';
  h.style.top = y + 'vh';
  const dur = 6000 + Math.random()*7000;
  heartsLayer.appendChild(h);

  // animate upwards using JS (so we can remove)
  h.animate([
    { transform: 'translateY(0) rotate(-45deg) scale(0.95)', opacity: 1 },
    { transform: 'translateY(-380px) rotate(-45deg) scale(1.05)', opacity: 0 }
  ], {
    duration: dur,
    easing: 'cubic-bezier(.2,.8,.2,1)'
  });

  setTimeout(()=>h.remove(), dur+100);
}

// tap trail & touch
function createHeartTrail(x,y, small=true){
  const h = document.createElement('div');
  h.className = 'heart ' + (small ? 'small' : '');
  // use fixed px coordinates so it appears where tapped
  h.style.left = (x - (small?7:11)) + 'px';
  h.style.top = (y - (small?7:11)) + 'px';
  document.body.appendChild(h);
  // animate with CSS keyframes equivalent
  const animDur = small ? 1400 : 1800;
  h.animate([
    { transform: 'translateY(0) rotate(-45deg) scale(0.9)', opacity: 1 },
    { transform: 'translateY(-220px) rotate(-45deg) scale(1.05)', opacity: 0 }
  ], { duration: animDur, easing: 'ease-out' });
  setTimeout(()=>h.remove(), animDur+50);
}

document.addEventListener('click', (ev) => {
  createHeartTrail(ev.clientX, ev.clientY, true);
});
document.addEventListener('touchstart', (ev) => {
  for(const t of ev.touches) createHeartTrail(t.clientX, t.clientY, true);
});

/* spawn a few floating hearts periodically */
setInterval(()=>{ createFloatingHeart(); if(Math.random()<0.4) createFloatingHeart(); }, 1800);
spawnFloatingHearts(8);

/* ========= Moon visibility handled in updateBackgroundByScroll ========= */
/* moon DOM already present - we toggle .visible */

/* ========= Shooting stars (realistic diagonal) ========= */
function spawnShootingStarOnce(){
  if(!window._isNight) return; // only at night
  const s = document.createElement('div');
  s.className = 'shoot';
  // start near right-top quadrant
  const startX = window.innerWidth * (0.78 + Math.random()*0.18);
  const startY = window.innerHeight * (0.02 + Math.random()*0.25);
  s.style.left = startX + 'px';
  s.style.top = startY + 'px';
  document.body.appendChild(s);

  // path: translate left-down by large amount
  const dx = - (window.innerWidth * (0.9 + Math.random()*0.6));
  const dy = window.innerHeight * (0.5 + Math.random()*0.6);
  s.animate([
    { transform: `translate(0px,0px) rotate(45deg)`, opacity: 1 },
    { transform: `translate(${dx}px, ${dy}px) rotate(45deg)`, opacity: 0 }
  ], {
    duration: 1100 + Math.random()*800,
    easing: 'cubic-bezier(.2,.9,.1,1)'
  });
  setTimeout(()=>s.remove(), 2200);
}
// spawn randomly when night
(function starLoop(){
  const delay = 1800 + Math.random()*3000;
  setTimeout(()=>{
    if(window._isNight && Math.random()<0.9) spawnShootingStarOnce();
    starLoop();
  }, delay);
})();

/* ========= Fireflies (gentle floating golden dots) ========= */
function spawnFirefly(){
  if(!window._isNight) return;
  const f = document.createElement('div');
  f.className = 'firefly';
  // spawn in mid-lower area
  const left = 10 + Math.random()*80;
  const top = 48 + Math.random()*40;
  f.style.left = left + 'vw';
  f.style.top = top + 'vh';
  document.getElementById('fireflies').appendChild(f);

  const dx = (Math.random()-0.5) * 240;
  const dy = (Math.random()-0.5) * 120;
  const duration = 4000 + Math.random()*6000;

  // subtle flicker + path
  f.animate([
    { transform: `translate(0,0)`, opacity: 1 },
    { transform: `translate(${dx}px, ${dy}px)`, opacity: 0.2 },
    { transform: `translate(${dx*1.2}px, ${dy*0.2}px)`, opacity: 0.6 }
  ], { duration, easing:'ease-in-out', iterations: Infinity, direction:'alternate' });

  // remove after a long time to keep DOM tidy
  setTimeout(()=>{ try{ f.remove(); }catch(e){} }, 30000);
}
// continuous spawn when night
setInterval(()=>{ if(window._isNight) { spawnFirefly(); if(Math.random()<0.5) spawnFirefly(); } }, 1200);

/* ========= Section fade-in using IntersectionObserver ========= */
function initSectionObserver(){
  const options = { threshold: 0.22 };
  const obs = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if(entry.isIntersecting){
        const bubbles = entry.target.querySelectorAll('.text-bubble');
        bubbles.forEach((b, idx) => setTimeout(()=>b.classList.add('fade-in'), idx*260));
      }
    });
  }, options);
  document.querySelectorAll('.section').forEach(s => obs.observe(s));
}
initSectionObserver();

/* ========= helpers ========= */
function throttle(fn, wait){
  let last = 0;
  return (...args) => {
    const now = Date.now();
    if(now - last > wait){ last = now; fn(...args); }
  };
}

/* ========= Start / UI helpers ========= */
function startSite(){
  try { document.getElementById('bg-music').play(); } catch(e){}
  // initial heart spawn & stars already created
  updateBackgroundByScroll();
  // ensure small immediate spawns for visual
  if(window._isNight) { spawnShootingStarOnce(); spawnFirefly(); }
}
function revealMessage(choice){
  if(choice){
    document.getElementById('interactive').style.display='none';
    const fm = document.getElementById('final-message');
    fm.style.display = 'flex';
    fm.scrollIntoView({behavior:'smooth'});
  } else {
    alert('You can scroll and see the memories anyway!');
  }
}

/* Prevent weird yellow by clamping interpolation (we only used purple palette) */
/* Nothing else to do because GRADIENTS contain no yellow */

</script>
</body>
</html>
