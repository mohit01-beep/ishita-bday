<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Happy Birthday Ishita üíñ</title>

<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&family=Great+Vibes&display=swap" rel="stylesheet">

<style>
/* ----------------------
   Base & layout (your content preserved)
   ---------------------- */
:root{
  --pink-1:#ffd6e0;
  --pink-2:#ffe7ba;
  --accent:#ff77aa;
  --bubble-bg: rgba(255,255,255,0.62);
  --text:#222;
  --max-width:1100px;
}

/* reset */
*{box-sizing:border-box}
html,body{height:100%}
body,html{
  margin:0; padding:0;
  font-family:'Quicksand',sans-serif;
  overflow-x:hidden;
  scroll-behavior:smooth;
  color:var(--text);
  background: linear-gradient(120deg,var(--pink-1),var(--pink-2));
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* background layer (sky, stars, clouds, hearts etc) */
#bg-layer{
  position:fixed; inset:0; z-index:0; pointer-events:none;
  overflow:hidden;
}

/* page glow border */
.page-glow {
  position:fixed;
  inset: -4px;
  pointer-events:none;
  z-index: 30;
  background: linear-gradient(120deg, rgba(255,119,170,0.06), rgba(255,180,123,0.02));
  filter: blur(30px);
  opacity:0.9;
  mix-blend-mode: screen;
}

/* main container and sections */
.container{position:relative; z-index:10; max-width:var(--max-width); margin:0 auto}
.section {
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  padding:48px 22px;
  text-align:center;
  flex-direction:column;
  position:relative;
  transition: background 900ms ease;
}

/* text bubble (kept exactly your content style but enhanced with motion-friendly defaults) */
.text-bubble {
  display:inline-block;
  padding:22px 30px;
  background: var(--bubble-bg);
  border-radius:30px;
  box-shadow:0 10px 30px rgba(0,0,0,0.08);
  backdrop-filter: blur(6px);
  max-width:85%;
  font-size:1.12rem;
  margin:20px 0;
  opacity:0; transform: translateY(26px) scale(0.995);
  transition: transform 700ms cubic-bezier(.2,.9,.2,1), opacity 700ms ease;
  position:relative;
  z-index:10;
  line-height:1.45;
}

/* "visible" class applied by JS when section enters */
.text-bubble.visible{
  opacity:1; transform: translateY(0) scale(1);
}

/* header title (Great Vibes cursive) - handwriting reveal */
h1 {
  font-family:'Great Vibes', cursive;
  font-size:3.6rem;
  margin:0 0 14px;
  color:var(--accent);
  letter-spacing:0.6px;
  z-index:12;
  position:relative;
  line-height:1;
  -webkit-font-smoothing:antialiased;
}

/* small subtitle under header (keeps old content behavior) */
.header-wrap{display:flex; flex-direction:column; align-items:center; gap:8px}

/* interactive button - nicer */
.interactive-btn{
  padding:11px 22px;
  background: linear-gradient(90deg,#ff8fab,#ff6aa0);
  color:#fff; border: none; border-radius:20px;
  cursor:pointer; outline:none; font-weight:700;
  box-shadow: 0 8px 22px rgba(255,105,140,0.12);
  transform-origin:center;
  transition: transform 180ms cubic-bezier(.2,.9,.2,1), box-shadow 180ms ease;
  z-index:12;
}
.interactive-btn:hover{ transform: translateY(-4px) scale(1.02); box-shadow:0 14px 40px rgba(255,105,140,0.14); }
.interactive-btn:active{ transform: translateY(-1px) scale(.998); }

/* ripple for button */
.button-ripple {
  position:absolute; border-radius:50%; pointer-events:none;
  transform:translate(-50%,-50%) scale(0);
  background: rgba(255,255,255,0.3);
  animation: ripple 600ms ease-out forwards;
  z-index:20;
}
@keyframes ripple{ to { transform: translate(-50%,-50%) scale(2.8); opacity:0 } }

/* carousel (swipe) - simple, minimal, mobile friendly */
.carousel {
  width:92%;
  max-width:520px;
  height:260px;
  margin:20px auto;
  border-radius:18px;
  overflow:hidden;
  background: linear-gradient(180deg, rgba(255,255,255,0.07), rgba(255,255,255,0.03));
  display:flex; align-items:center; justify-content:center;
  position:relative; z-index:12;
  box-shadow:0 12px 30px rgba(0,0,0,0.08);
}

/* carousel inner track */
.carousel-track {
  display:flex; height:100%; width:100%;
  transition: transform 420ms cubic-bezier(.22,.9,.15,1);
  touch-action: pan-y;
}

/* each slide */
.carousel-slide {
  min-width:100%;
  height:100%;
  display:flex; align-items:center; justify-content:center;
  background-size:cover; background-position:center;
}

/* fake placeholder style for empty image */
.carousel-empty {
  color:#333; font-size:1rem; opacity:0.9;
  padding:18px;
}

/* carousel nav dots */
.carousel-dots { position:absolute; bottom:12px; left:50%; transform:translateX(-50%); display:flex; gap:8px; z-index:15; }
.dot{ width:8px; height:8px; border-radius:50%; background:rgba(255,255,255,0.5); cursor:pointer; transition:transform 160ms; }
.dot.active{ background:#fff; transform:scale(1.25) }

/* final message typing effect */
#birthday-note { white-space:pre-wrap; min-height:72px; }
.typing-cursor{ display:inline-block; width:2px; height:1.05em; background:#333;
  margin-left:6px; vertical-align:middle; animation: blink 800ms steps(1) infinite; }
@keyframes blink{ 0%{opacity:1}50%{opacity:0}100%{opacity:1} }

/* sky extras - stars, clouds, shooting star improvements (parallax) */
/* small star dots (created by JS) - use transform3d for smoother motion */
.twinkle-star{ position:absolute; width:2px; height:2px; border-radius:50%; background:#fff; box-shadow:0 0 10px rgba(255,255,255,0.9); opacity:0.7; transform: translate3d(0,0,0); }

/* cloud look */
.cloud{ position:absolute; border-radius:50%; background: rgba(255,255,255,0.35); filter: blur(10px); transform: translate3d(0,0,0); }

/* shooting star (JS builds and animates) */
.shooting-star{ position:absolute; transform-origin:center; will-change:transform,opacity; }

/* small decorative sparkle layer (parallax dust) */
.sparkle {
  position:absolute; width:4px; height:4px; border-radius:50%;
  background:rgba(255,255,255,0.7); filter:blur(2px); opacity:0.8;
  transform: translate3d(0,0,0);
}

/* responsive tweaks */
@media(min-width:900px){
  h1{font-size:4.6rem}
  .text-bubble{font-size:1.18rem; max-width:70%}
}
@media(max-width:420px){
  h1{font-size:2.6rem}
  .text-bubble{font-size:1rem; padding:18px}
  .carousel{height:200px}
}

/* small section entrance flourish */
.section.showing {
  /* subtle scale on entry */
  transition: transform 650ms cubic-bezier(.2,.9,.2,1);
}

/* accessibility focus */
.interactive-btn:focus{ box-shadow:0 0 0 6px rgba(255,119,170,0.12); outline:none; }

/* keep your exact heart styling intact underneath (you told they were perfect) */
/* The code below is intentionally identical to your working heart CSS to preserve visuals */
.heart {
  position: fixed;
  width: 22px;
  height: 22px;
  background: #ff77aa;
  transform: rotate(-45deg);
  pointer-events: none;
  z-index: 3;
  animation: floatUp linear infinite;
  border-radius: 50%;
}
.heart::before,
.heart::after {
  content: "";
  position: absolute;
  width: 22px;
  height: 22px;
  background: #ff77aa;
  border-radius: 50%;
}
.heart::before { top: -11px; left: 0; }
.heart::after { top: 0; left: 11px; }
.heart.small {
  width: 14px; height:14px;
  animation: floatUp 1.8s ease-out forwards;
}
.heart.small::before,
.heart.small::after { width:14px; height:14px; }
.heart.small::before { top: -7px; }
.heart.small::after { left: 7px; }

/* keep original float animation */
@keyframes floatUp {
  0% { transform: translateY(0) scale(0.8) rotate(-45deg); opacity:0.8; }
  100% { transform: translateY(-800px) scale(1.2) rotate(-45deg); opacity:0; }
}
</style>
</head>
<body>

<!-- Background layer: stars, clouds, sparkles, shooting stars, hearts live here -->
<div id="bg-layer"></div>

<!-- Soft page glow -->
<div class="page-glow" aria-hidden="true"></div>

<!-- Actual page content (kept your text intact) -->
<div class="container">

  <div class="section" id="landing">
    <div class="header-wrap">
      <h1 id="title">Happy Birthday Ishita üíñ</h1>
      <button class="interactive-btn" id="startBtn">Click to Start</button>
    </div>
  </div>

  <div class="section" id="intro">
    <div class="text-bubble">Let's take a little journey through our memories together üíñ</div>
  </div>

  <div class="section" id="snapchat">
    <div class="text-bubble">Snapchat days: Our first talks, little snaps, discovering each other slowly...</div>
    <div class="text-bubble">Thanks to Yogita we got closer earlier and I got your number...</div>
    <div class="text-bubble">Maybe I would‚Äôve gotten your number later too, but I don‚Äôt know when‚Äîor how long I would‚Äôve waited.</div>
    <div class="text-bubble">Because of Yogita's job search, we connected on WhatsApp and got to know each other more...</div>
  </div>

  <div class="section" id="whatsapp">
    <div class="text-bubble">WhatsApp chats: Long movie nights, deep talks, sending each other our favorite rom-coms üé¨üíñ</div>
    <div class="text-bubble">Whenever I see reels about How to Lose a Guy in 10 Days or 10 Things I Hate About You, it reminds me of you üòÖüíì</div>
    <div class="text-bubble">Any rom-com movie reminds me of youuuuuu üé•üíï but these 2 are special and unforgettable üòç</div>
    <div class="text-bubble">Our first movie together was Saltburn üéûÔ∏è Your reactions were hilarious ü§≠ü§£</div>
    <div class="text-bubble">And remember our horror movie together - IT Chapter 1 üëªüò±</div>
  </div>

  <div class="section" id="interactive">
    <div class="text-bubble">
      Do you want to see your birthday surprise?
      <br><br>
      <button class="interactive-btn" id="revealYes">Yes</button>
      <button class="interactive-btn" id="revealNo">No</button>
    </div>
  </div>

  <div class="section" id="final-message" style="display:none;">
    <div class="text-bubble" id="birthday-note">Here will be your emotional birthday note...</div>

    <!-- carousel - add your images by replacing the 'background-image' inline style -->
    <div class="carousel" aria-hidden="false">
      <div class="carousel-track" id="carouselTrack">
        <!-- Example slides (replace background-image URLs with your photos) -->
        <div class="carousel-slide" style="background-image: url('');">
          <div class="carousel-empty">Add your photo 1 by replacing the slide background-image URL</div>
        </div>
        <div class="carousel-slide" style="background-image: url('');">
          <div class="carousel-empty">Photo 2 placeholder ‚Äî paste your image URL here later</div>
        </div>
        <div class="carousel-slide" style="background-image: url('');">
          <div class="carousel-empty">Photo 3 placeholder</div>
        </div>
      </div>

      <div class="carousel-dots" id="carouselDots" aria-hidden="true">
        <div class="dot active" data-idx="0"></div>
        <div class="dot" data-idx="1"></div>
        <div class="dot" data-idx="2"></div>
      </div>
    </div>

    <p style="margin-top:10px">From Mohit ‚ù§Ô∏è</p>
  </div>
</div>

<!-- keep audio tag if you want later, currently not auto-playing -->
<audio id="bg-music" loop preload="metadata">
  <source src="soft-music.mp3" type="audio/mpeg">
</audio>

<script>
/* ----------------------
   Utilities & initial refs
   ---------------------- */
const bg = document.getElementById('bg-layer');
const startBtn = document.getElementById('startBtn');
const revealYes = document.getElementById('revealYes');
const revealNo = document.getElementById('revealNo');
const title = document.getElementById('title');
const finalMessageSection = document.getElementById('final-message');
const birthdayNote = document.getElementById('birthday-note');

/* ----------------------
   Sky: create stars, clouds, sparkles and heart elements
   (we replicate your working behavior but add parallax & performance friendly code)
   ---------------------- */
function createStars(count=90){
  const frag = document.createDocumentFragment();
  for(let i=0;i<count;i++){
    const s = document.createElement('div');
    s.className = 'twinkle-star';
    const size = Math.random()*2 + 1;
    s.style.width = s.style.height = size + 'px';
    s.style.left = (Math.random()*100) + 'vw';
    s.style.top = (Math.random()*100) + 'vh';
    s.dataset.speed = (0.2 + Math.random()*0.8).toFixed(2);
    s.style.opacity = (0.3 + Math.random()*0.7);
    frag.appendChild(s);
  }
  bg.appendChild(frag);
}

function createClouds(count=6){
  const frag = document.createDocumentFragment();
  for(let i=0;i<count;i++){
    const c = document.createElement('div');
    c.className='cloud';
    const w = 120 + Math.random()*240;
    c.style.width = w + 'px';
    c.style.height = (w/2) + 'px';
    c.style.left = (Math.random()*120-10) + 'vw';
    c.style.top = (Math.random()*45) + 'vh';
    c.dataset.speed = (0.04 + Math.random()*0.06).toFixed(3);
    frag.appendChild(c);
  }
  bg.appendChild(frag);
}

/* we keep heart creation as you had (exact behavior) */
function createFloatingHearts(count=12){
  for(let i=0;i<count;i++){
    const h=document.createElement('div');
    h.className='heart';
    h.style.left=(Math.random()*100)+'vw';
    h.style.top=(40+Math.random()*50)+'vh';
    h.style.animationDuration=(6+Math.random()*8)+'s';
    bg.appendChild(h);
  }
}

/* sparkles (soft dust) */
function createSparkles(count=30){
  const frag = document.createDocumentFragment();
  for(let i=0;i<count;i++){
    const sp = document.createElement('div');
    sp.className='sparkle';
    sp.style.left = (Math.random()*100)+'vw';
    sp.style.top  = (Math.random()*100)+'vh';
    sp.style.opacity = 0.08 + Math.random()*0.6;
    sp.dataset.speed = (0.05 + Math.random()*0.2).toFixed(3);
    frag.appendChild(sp);
  }
  bg.appendChild(frag);
}

/* shooting star (diagonal from right-top to left-bottom) */
function spawnShootingStar(){
  const s = document.createElement('div');
  s.className='shooting-star';
  // start in top-right quadrant
  const startX = 78 + Math.random()*20; // vw
  const startY = 3 + Math.random()*25;  // vh
  s.style.left = startX + 'vw';
  s.style.top = startY + 'vh';

  // create head glow
  const head = document.createElement('div');
  head.style.width='10px'; head.style.height='10px';
  head.style.borderRadius='50%';
  head.style.position='absolute';
  head.style.right='-6px';
  head.style.top='-6px';
  head.style.background='radial-gradient(circle, rgba(255,255,255,1), rgba(255,255,255,0.05))';
  head.style.filter='blur(2px)';
  s.appendChild(head);

  bg.appendChild(s);

  // compute translation (big negative x, positive y)
  const distanceX = - (window.innerWidth * (0.85 + Math.random()*0.25));
  const distanceY = (window.innerHeight * (0.45 + Math.random()*0.35));
  const duration = 900 + Math.random()*700;

  // animate via requestAnimationFrame for better control & mobile performance
  s.animate([
    { transform: 'translate(0px,0px) rotate(45deg)', opacity: 1 },
    { transform: `translate(${distanceX}px, ${distanceY}px) rotate(45deg)`, opacity: 0 }
  ], {
    duration: duration,
    easing: 'cubic-bezier(.2,.9,.2,1)',
    iterations: 1,
    fill: 'forwards'
  });

  setTimeout(()=> s.remove(), duration + 60);
}

/* star/sky parallax on scroll & subtle motion */
function attachParallax(){
  const pups = bg.querySelectorAll('.twinkle-star, .sparkle, .cloud, .heart');
  window.addEventListener('scroll', ()=>{
    const sc = window.scrollY;
    for(const el of pups){
      const speed = parseFloat(el.dataset.speed || 0.12);
      // move slightly vertically for parallax
      el.style.transform = `translate3d(0,${-sc * speed}px,0)`;
    }
  }, { passive:true });
}

/* periodically spawn shooting stars */
(function shootingLoop(){
  const delay = 1800 + Math.random()*3000;
  setTimeout(()=>{
    spawnShootingStar();
    if(Math.random()<0.45) setTimeout(spawnShootingStar, 260 + Math.random()*600);
    shootingLoop();
  }, delay);
})();

/* ----------------------
   Section reveal with IntersectionObserver (A & B)
   ---------------------- */
const observerOptions = { root: null, rootMargin: '0px', threshold: 0.18 };
const sectionObserver = new IntersectionObserver((entries)=>{
  entries.forEach(entry=>{
    if(entry.isIntersecting){
      // reveal all text-bubbles inside
      const bubbles = entry.target.querySelectorAll('.text-bubble');
      entry.target.classList.add('showing');
      bubbles.forEach((b,i)=>{
        setTimeout(()=> b.classList.add('visible'), i*120);
      });
    }
  });
}, observerOptions);

/* observe each section */
document.querySelectorAll('.section').forEach(s=> sectionObserver.observe(s));

/* slight animation on title: handwriting-style reveal (C) */
// We'll reveal letters with a small stagger
function titleReveal(){
  const txt = title.textContent.trim();
  title.textContent = '';
  for(let i=0;i<txt.length;i++){
    const span = document.createElement('span');
    span.textContent = txt[i];
    span.style.opacity = '0';
    span.style.display = 'inline-block';
    span.style.transform = 'translateY(8px)';
    span.style.transition = 'transform 420ms cubic-bezier(.2,.9,.2,1), opacity 360ms ease';
    title.appendChild(span);
    setTimeout(()=>{
      span.style.opacity = '1';
      span.style.transform = 'translateY(0)';
    }, 80*i + 160);
  }
}

/* ----------------------
   Button ripple (neat micro interaction) (D)
   ---------------------- */
function attachRipples(){
  document.querySelectorAll('.interactive-btn').forEach(btn=>{
    btn.addEventListener('click', (ev)=>{
      const r = document.createElement('span');
      r.className = 'button-ripple';
      const rect = btn.getBoundingClientRect();
      const x = ev.clientX - rect.left;
      const y = ev.clientY - rect.top;
      r.style.left = x + 'px';
      r.style.top = y + 'px';
      btn.appendChild(r);
      setTimeout(()=> r.remove(), 700);
    });
  });
}

/* ----------------------
   Carousel: simple swipeable + dots (E)
   ---------------------- */
(function initCarousel(){
  const track = document.getElementById('carouselTrack');
  if(!track) return;
  const slides = Array.from(track.children);
  const dotsWrap = document.getElementById('carouselDots');
  let idx = 0;
  let startX=0, currentTranslate=0, prevTranslate=0, isDown=false, animationID=0;

  function setIdx(n){
    idx = Math.max(0, Math.min(slides.length-1, n));
    const x = - idx * track.clientWidth;
    track.style.transform = `translateX(${x}px)`;
    updateDots();
  }
  function updateDots(){
    dotsWrap.querySelectorAll('.dot').forEach(d=> d.classList.remove('active'));
    const dot = dotsWrap.querySelector(`.dot[data-idx="${idx}"]`);
    if(dot) dot.classList.add('active');
  }

  // pointer events for swipe
  track.addEventListener('pointerdown', e => {
    track.setPointerCapture(e.pointerId);
    isDown=true; startX = e.clientX; prevTranslate = currentTranslate;
  });
  window.addEventListener('pointermove', e => {
    if(!isDown) return;
    const dx = e.clientX - startX;
    currentTranslate = prevTranslate + dx;
    track.style.transform = `translateX(${currentTranslate}px)`;
  });
  window.addEventListener('pointerup', e => {
    if(!isDown) return;
    isDown=false;
    const movedBy = currentTranslate - prevTranslate;
    if(movedBy < -80 && idx < slides.length-1) idx++;
    if(movedBy > 80 && idx > 0) idx--;
    setIdx(idx);
  });

  // click on dots
  dotsWrap.querySelectorAll('.dot').forEach(d => {
    d.addEventListener('click', ()=> setIdx(parseInt(d.dataset.idx,10)));
  });

  // auto-size on resize
  window.addEventListener('resize', ()=> setIdx(idx));
  setIdx(0);
})();

/* ----------------------
   Final message typing effect (F)
   ---------------------- */
function typeText(el, text, cb){
  el.textContent = '';
  let i=0;
  const cursor = document.createElement('span');
  cursor.className='typing-cursor';
  el.appendChild(cursor);
  function step(){
    if(i < text.length){
      cursor.insertAdjacentText('beforebegin', text[i++]);
      const delay = (text[i-1] === '.' || text[i-1] === ',' ) ? 160 : 40 + Math.random()*30;
      setTimeout(step, delay);
    } else {
      cursor.remove();
      if(cb) cb();
    }
  }
  setTimeout(step, 300);
}

/* ----------------------
   Start actions when "Click to Start" pressed
   ---------------------- */
function startEverything(){
  // reveal title nicely
  titleReveal();

  // create sky elements
  createStars(100);
  createClouds(6);
  createSparkles(30);
  createFloatingHearts(14);

  // attach parallax
  attachParallax();

  // attach ripple
  attachRipples();

  // small playful bounce on start button and show first section bubble
  startBtn.animate([{transform:'scale(1)'},{transform:'scale(1.03)'},{transform:'scale(1)'}], {duration:520});
  window.scrollTo({top:0, behavior:'smooth'});

  // reveal landing bubble quickly
  document.querySelectorAll('#landing .text-bubble').forEach(b => b.classList.add('visible'));
}

/* reveal final message when Yes pressed */
revealYes.addEventListener('click', ()=>{
  finalMessageSection.style.display = 'flex';
  finalMessageSection.scrollIntoView({behavior:'smooth'});
  // typing effect content - you will later replace or edit the content in-place
  const note = `I just wanted to be honest once, for my own closure.\n\nYou mean a lot to me and I wanted you to know that ‚Äî with care.`;
  typeText(birthdayNote, note);
});

/* No button - polite exit micro copy */
revealNo.addEventListener('click', ()=>{
  // simple micro animation and small confirmation
  revealNo.animate([{transform:'translateY(0)'},{transform:'translateY(-6px)'},{transform:'translateY(0)'}], {duration:420});
  setTimeout(()=> alert("No worries ‚Äî you can scroll through memories anytime üòä"), 380);
});

/* start button - safe attach event */
startBtn.addEventListener('click', startEverything);

/* also allow keyboard Enter on focused startBtn */
startBtn.addEventListener('keyup', (e)=>{ if(e.key === 'Enter') startEverything(); });

/* ----------------------
   Section background gradient interpolation on scroll (keeps your earlier behaviour smoother)
   ---------------------- */
const sectionGradients = [
  ['#ffd6e0','#ffe7ba'],
  ['#ffe0d6','#ffd1ba'],
  ['#ffdde1','#ffc1e3'],
  ['#e3c1ff','#c1b0ff'],
  ['#0d1b2a','#1b263b']
];

function interpolateColor(c1,c2,f){
  const n1=parseInt(c1.slice(1),16), n2=parseInt(c2.slice(1),16);
  const r=Math.round(((n2>>16)&255)*f + ((n1>>16)&255)*(1-f));
  const g=Math.round(((n2>>8)&255)*f + ((n1>>8)&255)*(1-f));
  const b=Math.round((n2&255)*f + (n1&255)*(1-f));
  return `rgb(${r},${g},${b})`;
}

window.addEventListener('scroll', ()=>{
  const scroll = window.scrollY;
  const total = document.body.scrollHeight - window.innerHeight;
  let norm = total > 0 ? (scroll / total) : 0;
  norm = Math.max(0, Math.min(1, norm));
  let idx = Math.floor(norm * (sectionGradients.length - 1));
  if(idx >= sectionGradients.length - 1) idx = sectionGradients.length - 2;
  const frac = (norm - idx/(sectionGradients.length-1)) * (sectionGradients.length-1);
  const start = sectionGradients[idx], end = sectionGradients[idx+1];
  document.body.style.background = `linear-gradient(120deg, ${interpolateColor(start[0],end[0],frac)}, ${interpolateColor(start[1],end[1],frac)})`;
}, { passive:true });

/* ----------------------
   Tap / touch heart trail (keeps your behavior exactly but improved for performance)
   ---------------------- */
function createHeartTrail(x, y){
  const h = document.createElement('div');
  h.className = 'heart small';
  // position relative to viewport
  h.style.left = (x) + 'px';
  h.style.top  = (y) + 'px';
  bg.appendChild(h);
  setTimeout(()=> h.remove(), 1800);
}
document.addEventListener('click', e => createHeartTrail(e.clientX, e.clientY), { passive:true });
document.addEventListener('touchmove', e => {
  for(const t of e.touches) createHeartTrail(t.clientX, t.clientY);
}, { passive:true });

/* ----------------------
   Small accessibility: reveal initial text bubbles for sections already in view
   ---------------------- */
window.addEventListener('load', ()=>{
  // small auto-run to show any bubbles currently inside viewport (so the first section text visible without clicking start)
  document.querySelectorAll('.section').forEach(sec=>{
    const rect = sec.getBoundingClientRect();
    if(rect.top < window.innerHeight && rect.bottom > 0){
      sec.querySelectorAll('.text-bubble').forEach((b,i)=> setTimeout(()=> b.classList.add('visible'), i*100));
    }
  });
  // initial title reveal lightly (but not full handwriting until user clicks start)
  // show a soft fade
  title.style.opacity = '0';
  title.style.transform = 'translateY(6px)';
  setTimeout(()=>{ title.style.transition = 'opacity 720ms ease, transform 720ms cubic-bezier(.2,.9,.2,1)'; title.style.opacity = '1'; title.style.transform = 'translateY(0)'; }, 220);
});

/* ensure layout responsiveness & update on resize */
window.addEventListener('resize', ()=>{ /* nothing heavy here; carousel recalcs on user interaction */ }, { passive:true });

</script>

</body>
</html>