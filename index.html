<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Ishita ü§ç</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600&family=Great+Vibes&display=swap" rel="stylesheet">

<style>
html,body{
  margin:0;
  padding:0;
  font-family:'Quicksand',sans-serif;
  background:linear-gradient(to bottom,#ff9a8b,#ffb7c5,#d88ad6,#3a1766,#0d0221);
  scroll-behavior:smooth;
  overflow-x:hidden;
}

/* ---------- SECTIONS ---------- */
.section{
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  padding:60px 20px;
  text-align:center;
}

.text-bubble{
  background:rgba(255,255,255,.65);
  padding:25px 35px;
  border-radius:30px;
  margin:25px 0;
  max-width:70%;
  opacity:0;
  transform:translateY(25px);
  transition:1s ease;
}
.fade-in{
  opacity:1;
  transform:translateY(0);
}

h1{
  font-family:'Great Vibes',cursive;
  font-size:4em;
  color:#ff77aa;
}

/* ---------- HEART TRAIL ---------- */
.heart{
  position:fixed;
  width:14px;
  height:14px;
  background:#ff4f87;
  transform:rotate(-45deg);
  pointer-events:none;
  z-index:50;
  animation:heartFade 1.2s ease forwards;
}
.heart:before,.heart:after{
  content:"";
  position:absolute;
  width:14px;height:14px;
  background:#ff4f87;
  border-radius:50%;
}
.heart:before{top:-7px;}
.heart:after{left:7px;}

@keyframes heartFade{
  to{opacity:0;transform:scale(1.4) rotate(-45deg);}
}

/* ---------- LETTER OVERLAY ---------- */
#letter-overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.55);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:100;
}

/* ---------- SEALED ENVELOPE ---------- */
#envelope{
  width:260px;
  height:180px;
  background:#c9a36a;
  border-radius:6px;
  box-shadow:0 20px 50px rgba(0,0,0,.4);
  cursor:pointer;
  position:relative;
}

#wax{
  position:absolute;
  width:50px;
  height:50px;
  background:#7b1e1e;
  border-radius:50%;
  bottom:25px;
  left:50%;
  transform:translateX(-50%);
  box-shadow:inset 0 0 10px rgba(0,0,0,.4);
}

/* ---------- OPEN LETTER ---------- */
#paper{
  display:none;
  background:
    radial-gradient(circle at top left, rgba(0,0,0,.12), transparent 40%),
    radial-gradient(circle at bottom right, rgba(0,0,0,.12), transparent 40%),
    #f6eddc;
  width:80%;
  max-width:650px;
  max-height:75vh;
  padding:60px 45px;
  border-radius:10px;
  box-shadow:
    inset 0 0 35px rgba(0,0,0,.15),
    0 30px 70px rgba(0,0,0,.45);
  overflow-y:auto;
}

#paper::-webkit-scrollbar{
  width:6px;
}
#paper::-webkit-scrollbar-thumb{
  background:#b08b57;
  border-radius:10px;
}

/* ---------- HANDWRITING ---------- */
#typewriter{
  font-family:'Great Vibes',cursive;
  font-size:2.3em;
  line-height:1.7;
  color:#4b2e15;
  white-space:pre-wrap;
}

/* ---------- CLOSE ---------- */
#close{
  position:absolute;
  top:25px;
  right:25px;
  font-size:24px;
  color:#fff;
  cursor:pointer;
}

/* ---------- OBSERVER ---------- */
</style>
</head>

<body>

<!-- MEMORIES (unchanged logic) -->
<div class="section">
  <h1>Happy Birthday Ishita üíñ</h1>
</div>

<div class="section">
  <div class="text-bubble">Snapchat memories: Our first talks, little snaps, discovering each other slowly...</div>
  <div class="text-bubble">Thanks to Yogita we got closer earlier and I got your number...</div>
  <div class="text-bubble">Maybe I would‚Äôve gotten your number later too, but I don‚Äôt know when‚Äîor how long I would‚Äôve waited.</div>
  <div class="text-bubble">Because of Yogita's job search, we connected on WhatsApp and got to know each other more...</div>
</div>

<div class="section">
  <div class="text-bubble">WhatsApp memories: Long movie nights, deep talks, sending each other our favorite rom-coms üé¨üíñ</div>
  <div class="text-bubble">Women's day tiramisu surprise for youu ü§≠ You loved it‚Ä¶ I never want to miss a chance to make you smile</div>
  <div class="text-bubble">During Navratri when you sent that cheesecake ü•π I still have the jar and the box with me</div>
  <div class="text-bubble">Whenever I see rom-com reels, it reminds me of you üòÖüíì</div>
</div>

<!-- LETTER TRIGGER -->
<div class="section">
  <div class="text-bubble" onclick="openOverlay()">Touch this letter ü§ç</div>
</div>

<!-- LETTER OVERLAY -->
<div id="letter-overlay">
  <div id="close" onclick="closeLetter()">‚úï</div>

  <div id="envelope" onclick="openLetter()">
    <div id="wax"></div>
  </div>

  <div id="paper">
    <div id="typewriter"></div>
  </div>
</div>

<script>
/* ---------- HEART TRAIL ---------- */
function heart(x,y){
  const h=document.createElement('div');
  h.className='heart';
  h.style.left=x+'px';
  h.style.top=y+'px';
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),1200);
}
document.addEventListener('mousemove',e=>heart(e.clientX,e.clientY));
document.addEventListener('touchmove',e=>{
  [...e.touches].forEach(t=>heart(t.clientX,t.clientY));
});

/* ---------- FADE IN ---------- */
const obs=new IntersectionObserver(entries=>{
  entries.forEach(e=>{
    if(e.isIntersecting){
      e.target.querySelectorAll('.text-bubble')
        .forEach((b,i)=>setTimeout(()=>b.classList.add('fade-in'),i*250));
    }
  });
},{threshold:.3});
document.querySelectorAll('.section').forEach(s=>obs.observe(s));

/* ---------- LETTER LOGIC ---------- */
const overlay=document.getElementById('letter-overlay');
const envelope=document.getElementById('envelope');
const paper=document.getElementById('paper');
const writer=document.getElementById('typewriter');

const text=`I don‚Äôt know what the future holds,
but I‚Äôm really glad you‚Äôre part of my present ü§ç

Some things feel royal,
not because they are grand,
but because they are rare.

Happy Birthday, Ishita.
Always.`;

let i=0, timer;

function openOverlay(){
  overlay.style.display='flex';
}

function openLetter(){
  envelope.style.display='none';
  paper.style.display='block';
  writer.textContent='';
  i=0;

  timer=setInterval(()=>{
    if(i<text.length){
      writer.textContent+=text[i++];
      paper.scrollTop=paper.scrollHeight;
    }else{
      clearInterval(timer);
    }
  },70);
}

function closeLetter(){
  clearInterval(timer);
  overlay.style.display='none';
  envelope.style.display='block';
  paper.style.display='none';
}
</script>

</body>
</html>